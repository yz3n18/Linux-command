# 1.Download Star
wget https://github.com/alexdobin/STAR/archive/2.7.9a.tar.gz
tar -xzf 2.7.9a.tar.gz
cd STAR-2.7.9a
cd /source
make STAR

# 2.Star Index
# 2.1 download .dna.primary.assembly from https://ftp.ensembl.org/pub/release-104/fasta/homo_sapiens/dna/Homo_sapiens.GRCh38.dna.primary_assembly.fa.gz
# 2.2 download GTF from https://ftp.ensembl.org/pub/release-104/gtf/homo_sapiens/Homo_sapiens.GRCh38.104.gtf.gz
# 2.3 build index

build_index.sh
------------------------------------------------------------------------------------------------------------------------------------------------------------------ Start
#!/bin/bash
#PBS -l nodes=1:ppn=16 
#PBS -l walltime=50:00:00
cd /scratch/yz3n18/2019_Strunz/Picard
source activate RNAseqPython3


STAR \
--runThreadN 16 \
--genomeDir /scratch/yz3n18/reference/star \
--readFilesIn  /scratch/yz3n18/2019_Strunz/Picard/SRR10574069_unaligned_read_Molecular_tagged_polyA_filtered.fastq \
--outFileNamePrefix STAR_SRR10574069

echo "** STAR alignment done **"

------------------------------------------------------------------------------------------------------------------------------------------------------------------- End
